<div class="row m-5">
  <div class="col-md-8 mx-auto">
    <section id="tabs">
      <div class="container">
        <h6 class="section-title h2">Merchant Group Data</h6>
        <div class="py-1 px-1 px-sm-0">
          GROUPS: Your first step is to create a GROUP to cater for your colleagues using the system and if you have more than one store location you would assign the group to ensure that all your stores are under one umbrella. 
          You are allowed only one group, and your customer collect group wide privilage points when making purchases at any of your store locations.
          <div class="card card-form border-warning p-0 ml-0 mr-0 mt-5 col-md-9 mx-auto">
            <div class="card-header">
                <h4 class="text-center">Add or Maintain Group</h4>
            </div>
            <div class="card-body">
              <div class="row show-hide-message">
                <div [ngClass]="messageClass" class="col-sm-9 border-warning h-50 mx-auto text-center">
                    <strong>{{message}}</strong>
                </div>
              </div>
              <form [formGroup]="fg" (submit)="onfgSubmit()" >
                <div class="form-group">
                  <label for="name">Group Name</label>
                  <div [ngClass]="{'has-error':(fg.controls.name.errors && fg.controls.name.dirty), 'has-success': !fg.controls.name.errors}">
                    <input type="text" name="name" class="form-control"
                    formControlName="name">
                    <div class="help-block text-light small bg-danger pl-2" *ngIf="fg.controls.name.errors && fg.controls.name.dirty">
                      <div *ngIf="fg.controls.name.errors?.required">
                          Group Name field is required
                      </div>
                      <div *ngIf="fg.controls.name.errors?.minlength || fg.controls.name.errors?.maxlength">
                          Group Name minimum characters: 12, Maximum characters: 50
                      </div>
                      <div *ngIf="fg.controls.name.errors?.validateName">
                          Valid Group Name must not have special characters
                      </div>
                    </div>
                  </div>
                </div>
                <div class="form-group">
                    <label for="message">Group Description</label>
                    <div [ngClass]="{'has-error':(fg.controls.description.errors && fg.controls.description.dirty), 'has-success': !fg.controls.description.errors}">
                        <textarea name="description" class="form-control" rows="3" formControlName="description">
                        </textarea>
                        <div class="help-block text-light small bg-danger pl-2" *ngIf="fg.controls.description.errors && fg.controls.description.dirty">
                            <div *ngIf="fg.controls.description.errors?.required">
                                Group Description field is required
                            </div>
                            <div *ngIf="fg.controls.description.errors?.minlength ">
                                Group Description minimum characters: 50
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="email">Email</label>
                    <div [ngClass]="{'has-error':(fg.controls.email.errors && fg.controls.email.dirty), 'has-success': !fg.controls.email.errors}">
                        <input type="email" name="email" class="form-control" placeholder="name@domain.com"
                        formControlName="email">
                        <div class="help-block text-light small bg-danger pl-2" *ngIf="(fg.controls.email.errors && fg.controls.email.dirty)">
                            <div *ngIf="fg.controls.email.errors?.required">
                                Email field is required
                            </div>
                            <div *ngIf="fg.controls.email.errors?.minlength || fg.controls.email.errors?.maxlength">
                                Email minimum characters: 5, Maximum characters: 30
                            </div>
                            <div *ngIf="fg.controls.email.errors?.validateEmail">
                                Email must be in a valid format
                            </div>
                        </div>
                    </div>
                </div>
                <div class="extradata p-3 bg-light mt-4">
                    <div class="form-group">
                        <div class="row">
                            <div class="col-sm-6">
                                <label for="countrycode">Country Code</label>
                                <select id="countrycode" class="form-control" formControlName="countrycode">
                                <option *ngFor="let code of codes" [value]="code.countryCode">{{code.countryCode}}</option>
                                </select>
                            </div>       
                            <div class="col-sm-6">
                                <label for="city">City</label>
                                <div [ngClass]="{'has-error':(fg.controls.city.errors && fg.controls.city.dirty), 'has-success': !fg.controls.city.errors}">
                                    <input type="text" name="city" class="form-control"
                                            formControlName="city">
                                    <div class="help-block text-light small bg-danger pl-2" *ngIf="fg.controls.city.errors && fg.controls.city.dirty">
                                        <div *ngIf="fg.controls.city.errors?.required">
                                            City field is required
                                        </div>
                                        <div *ngIf="fg.controls.city.errors?.minlength || fg.controls.city.errors?.maxlength">
                                            City minimum characters: 3, Maximum characters: 20
                                        </div>
                                        <div *ngIf="fg.controls.city.errors?.validateName">
                                            Valid City must not have special characters
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div><!--/form-group-->
                    <div class="form-group">
                        <div class="row">
                            <div class="col-sm-6">
                                <label for="mobile">Mobile Number</label>
                                <div [ngClass]="{'has-error':(fg.controls.mobile.errors && fg.controls.mobile.dirty), 'has-success': !fg.controls.mobile.errors}">
                                    <input type="mobile" name="mobile" class="form-control"
                                    formControlName="mobile" placeholder="9xx-xxx-xxxx">
                                    <div class="help-block text-light small bg-danger pl-2" *ngIf="fg.controls.mobile.errors && fg.controls.mobile.dirty">
                                        <div *ngIf="fg.controls.mobile.errors?.required">
                                            Mobile Number field is required
                                        </div>
                                        <div *ngIf="fg.controls.mobile.errors?.minlength || fg.controls.mobile.errors?.maxlength">
                                            Mobile Number characters: 8, Maximum characters: 10
                                        </div>
                                        <div *ngIf="fg.controls.mobile.errors?.validateMobile">
                                            Mobile Number must be in a valid format
                                        </div>
                                    </div>
                                </div>
                            </div>       
                            <div class="col-sm-6">
                                <label for="phone">Phone Number</label>
                                <div [ngClass]="{'has-error':(fg.controls.phone.errors && fg.controls.phone.dirty), 'has-success': !fg.controls.phone.errors}">
                                    <input type="phone" name="phone" class="form-control"
                                formControlName="phone" placeholder="9xx-xxx-xxxx">
                                    <div class="help-block text-light small bg-danger pl-2" *ngIf="fg.controls.phone.errors && fg.controls.phone.dirty">
                                        <div *ngIf="fg.controls.phone.errors?.required">
                                            Phone Number field is required
                                        </div>
                                        <div *ngIf="fg.controls.phone.errors?.minlength || fg.controls.phone.errors?.maxlength">
                                            Phone Number characters: 8, Maximum characters: 10
                                        </div>
                                        <div *ngIf="fg.controls.phone.errors?.validateMobile">
                                            Phone Number must be in a valid format
                                        </div>
                                </div>
                                </div>
                            </div>
                        </div>
                    </div><!--/form-group-->
                </div>
                <hr class="mt-5">
                <h5>Strategy Section</h5>
                <hr>
                <div class="form-group">
                    <label for="strategy">Business Strategy</label>
                    <select id="strategy" class="form-control" formControlName="strategy">
                    <option *ngFor="let strata of strategy" [value]="strata.strategyName">{{strata.strategyName}}</option>
                    </select>
                </div>
                <div class="form-group">
                    <div class="row">
                        <div class="col-sm-6">
                            <label for="bronze">Bronze Band</label>
                            <div [ngClass]="{'has-error':(fg.controls.bronze.errors && fg.controls.bronze.dirty), 'has-success': !fg.controls.bronze.errors}">
                                <input type="text" name="bronze" class="form-control"
                                formControlName="bronze" placeholder="9999">
                                <div class="help-block text-light small bg-danger pl-2" *ngIf="fg.controls.bronze.errors && fg.controls.bronze.dirty">
                                    <div *ngIf="fg.controls.bronze.errors?.required">
                                        Bronze Band field is required
                                    </div>
                                    <div *ngIf="fg.controls.bronze.errors?.validateValue">
                                        Bronze Band must be Numeric
                                    </div>
                                </div>
                            </div>
                        </div>       
                        <div class="col-sm-6">
                            <label for="silver">Silver Band</label>
                            <div [ngClass]="{'has-error':(fg.controls.silver.errors && fg.controls.silver.dirty), 'has-success': !fg.controls.silver.errors}">
                                <input type="text" name="silver" class="form-control"
                                formControlName="silver" placeholder="9999">
                                <div class="help-block text-light small bg-danger pl-2" *ngIf="fg.controls.silver.errors && fg.controls.silver.dirty">
                                    <div *ngIf="fg.controls.silver.errors?.required">
                                        Silver Band field is required
                                    </div>
                                    <div *ngIf="fg.controls.silver.errors?.validateValue">
                                        Silver Band must be Numeric 
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div><!--/form-group-->
                <div class="form-group">
                    <div class="row">
                        <div class="col-sm-6">
                            <label for="gold">Gold Band</label>
                            <div [ngClass]="{'has-error':(fg.controls.gold.errors && fg.controls.gold.dirty), 'has-success': !fg.controls.gold.errors}">
                                <input type="text" name="gold" class="form-control"
                                formControlName="gold" placeholder="9999">
                                <div class="help-block text-light small bg-danger pl-2" *ngIf="fg.controls.gold.errors && fg.controls.gold.dirty">
                                    <div *ngIf="fg.controls.gold.errors?.required">
                                        Gold Band field is required
                                    </div>
                                    <div *ngIf="fg.controls.gold.errors?.validateValue">
                                        Gold Band must be Numeric
                                    </div>
                                </div>
                            </div>
                        </div>       
                        <div class="col-sm-6">
                            <label for="platinum">Platinum Band</label>
                            <div [ngClass]="{'has-error':(fg.controls.platinum.errors && fg.controls.platinum.dirty), 'has-success': !fg.controls.platinum.errors}">
                                <input type="text" name="platinum" class="form-control"
                                formControlName="platinum" placeholder="9999">
                                <div class="help-block text-light small bg-danger pl-2" *ngIf="fg.controls.platinum.errors && fg.controls.platinum.dirty">
                                    <div *ngIf="fg.controls.platinum.errors?.required">
                                            Platinum Band field is required
                                    </div>
                                    <div *ngIf="fg.controls.platinum.errors?.validateValue">
                                            platinum Band must be Numeric 
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div><!--/form-group-->
                <div class="form-group">
                    <div class="row">
                        <div class="col-sm-6">
                            <label for="pearl">Pearl Band</label>
                            <div [ngClass]="{'has-error':(fg.controls.pearl.errors && fg.controls.pearl.dirty), 'has-success': !fg.controls.pearl.errors}">
                                <input type="text" name="pearl" class="form-control"
                                formControlName="pearl" placeholder="9999">
                                <div class="help-block text-light small bg-danger pl-2" *ngIf="fg.controls.pearl.errors && fg.controls.pearl.dirty">
                                    <div *ngIf="fg.controls.pearl.errors?.required">
                                        Pearl Band field is required
                                    </div>
                                    <div *ngIf="fg.controls.pearl.errors?.validateValue">
                                        pearl Band must be Numeric
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <label for="blackdiamond">blackdiamond Band</label>
                            <div [ngClass]="{'has-error':(fg.controls.blackdiamond.errors && fg.controls.blackdiamond.dirty) || (fg.errors?.bandSync && fg.controls.blackdiamond.dirty), 'has-success': !fg.controls.blackdiamond.errors || fg.errors?.bandSync}">
                                <input type="text" name="blackdiamond" class="form-control"
                                formControlName="blackdiamond" placeholder="9999">
                                <div class="help-block text-light small bg-danger pl-2" *ngIf="(fg.controls.blackdiamond.errors && fg.controls.blackdiamond.dirty) || (fg.errors?.bandSync && fg.controls.blackdiamond.dirty)">
                                    <div *ngIf="fg.controls.blackdiamond.errors?.required">
                                        Blackdiamond Band field is required
                                    </div>
                                    <div *ngIf="fg.controls.blackdiamond.errors?.validateValue">
                                        Blackdiamond Band must be Numeric
                                    </div>
                                    <div *ngIf="fg.errors?.bandSync">
                                        Bands must progressively increase in value
                                    </div> 
                                </div>
                            </div>
                        </div>
                    </div>
                </div><!--/form-group-->
                <button [disabled]="!fg.valid || notUpdated" type="submit" class="btn btn-primary btn-block mt-4">Submit Group</button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- ./Tabs -->
  </div>
</div>