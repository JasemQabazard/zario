
<div class="row mt-5">
   <div class="col-md-4 mx-auto">
     <div class="card card-form border-warning mb-5">
       <div class="card-header">
           <h3 class="text-center">Enter Your Email Please</h3>
       </div>
       <div class="card-body">
          <div class="row show-hide-message">
              <div [ngClass]="messageClass" class="col-sm-9 border-warning h-50 mx-auto text-center">
                <strong>{{message}}</strong>
              </div>
          </div>
         <form [formGroup]="form" (submit)="passwordForgetSubmit()"> 
           <div class="form-group">
             <label for="email">Email</label>
             <div [ngClass]="{'has-error':(form.controls.email.errors && form.controls.email.dirty), 'has-success': !form.controls.email.errors}">
               <input type="email" name="email" class="form-control"
               formControlName="email">
               <div class="help-block text-light small bg-danger pl-2" *ngIf="form.controls.email.errors && form.controls.email.dirty">
                   <div *ngIf="form.controls.email.errors?.required">
                     Email field is required
                   </div>
                   <div *ngIf="form.controls.email.errors?.minlength || form.controls.email.errors?.maxlength">
                       Email minimum characters: 5, Maximum characters: 30
                   </div>
                   <div *ngIf="form.controls.email.errors?.validateEmail">
                       Email must be in a valid format
                   </div>
               </div>
             </div>
           </div>
           <button [disabled]="!form.valid || processing" type="submit" class="btn btn-primary btn-block">Submit Email</button>
         </form>
         <hr>
          <div class="row">
            <div class="col-sm-8 mx-auto">
              <form [formGroup]="vrifyemailform" (submit)="onVerifyClick()">
                <div class="form-group mt-3" *ngIf="showverifyemail">
                  <h1 class="text-danger text-center m-2">{{timeleft}}</h1>
                  <div [ngClass]="{'has-error':(vrifyemailform.controls.verifyInput.errors && vrifyemailform.controls.verifyInput.dirty) || (vrifyemailform.errors?.emailVerification && vrifyemailform.controls.verifyInput.dirty), 'has-success': !vrifyemailform.controls.verifyInput.errors && !vrifyemailform.errors?.emailVerification}">
                      <input type="text" name="verifyInput" class="form-control mt-2"
                      formControlName="verifyInput">
                      <div class="help-block text-light small bg-danger pl-2" *ngIf="(vrifyemailform.controls.verifyInput.errors && vrifyemailform.controls.verifyInput.dirty) ||(vrifyemailform.errors?.emailVerification && vrifyemailform.controls.verifyInput.dirty)">
                          <div *ngIf="vrifyemailform.controls.verifyInput.errors?.required">
                            Email Verification Code is required! Please check your email
                          </div>
                          <div *ngIf="vrifyemailform.controls.verifyInput.errors?.minlength || vrifyemailform.controls.verifyInput.errors?.maxlength">
                              Email Verification Code is ONLY 6 characters
                          </div>
                          <div *ngIf="vrifyemailform.errors?.emailVerification">
                              Email Verification Code must be EXACTLY what you received in your email
                          </div>
                      </div>
                    </div>
                  <button [disabled]="!vrifyemailform.valid" type="submit" class="btn btn-danger btn-block mt-2">Verify Email</button>
                  <div class="text-center mt-2">
                      <h4>Enter 6 Digit Verification Code</h4>
                      <h4>Please check your Email</h4>
                  </div>
                </div>
              </form>
            </div>
          </div>
          <form [formGroup]="passwordform" (submit)="passwordResetSubmit()">
            <div *ngIf="showPasswordForm">
                <div class="form-group">
                    <label for="password">New Password</label>
                    <div [ngClass]="{'has-error':(passwordform.controls.password.errors && passwordform.controls.password.dirty), 'has-success': !passwordform.controls.password.errors}">
                      <input type="password" name="password" class="form-control"
                      formControlName="password">
                      <div class="help-block text-light small bg-danger pl-2" *ngIf="(passwordform.controls.password.errors && passwordform.controls.password.dirty)">
                          <div *ngIf="passwordform.controls.password.errors?.required">
                             New Password field is required
                          </div>
                          <div *ngIf="passwordform.controls.password.errors?.minlength || passwordform.controls.password.errors?.maxlength">
                              New Password minimum characters: 8, Maximum characters: 35
                          </div>
                          <div *ngIf="passwordform.controls.password.errors?.validatePassword">
                              New Password must have At least one uppercase letter, one lowercase letter and one number
                          </div>
                      </div>
                    </div>
                  </div>
                  <button [disabled]="!passwordform.valid" type="submit" class="btn btn-primary btn-block">Submit to Change Password</button>
            </div>
          </form>
       </div>
     </div>
   </div>
 </div>